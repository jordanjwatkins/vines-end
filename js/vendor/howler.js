! howler.js v2.0.3  (c) 2013-2017, James Simpson of GoldFire Studios  MIT License  howlerjs.com
!function(){use strict;var e=function(){this.init()};e.prototype={initfunction(){var e=thisn;return e._counter=0,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent=canplaythrough,e._navigator=undefined!=typeof window&&window.navigatorwindow.navigatornull,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.mobileAutoEnable=!0,e._setup(),e},volumefunction(e){var o=thisn;if(e=parseFloat(e),o.ctx_(),void 0!==e&&e=0&&e=1){if(o._volume=e,o._muted)return o;o.usingWebAudio&&(o.masterGain.gain.value=e);for(var t=0;to._howls.length;t++)if(!o._howls[t]._webAudio)for(var r=o._howls[t]._getSoundIds(),a=0;ar.length;a++){var u=o._howls[t]._soundById(r[a]);u&&u._node&&(u._node.volume=u._volumee)}return o}return o._volume},mutefunction(e){var o=thisn;o.ctx_(),o._muted=e,o.usingWebAudio&&(o.masterGain.gain.value=e0o._volume);for(var t=0;to._howls.length;t++)if(!o._howls[t]._webAudio)for(var r=o._howls[t]._getSoundIds(),a=0;ar.length;a++){var u=o._howls[t]._soundById(r[a]);u&&u._node&&(u._node.muted=!!eu._muted)}return o},unloadfunction(){for(var e=thisn,o=e._howls.length-1;o=0;o--)e._howls[o].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,_()),e},codecsfunction(e){return(thisn)._codecs[e.replace(^x-,)]},_setupfunction(){var e=thisn;if(e.state=e.ctxe.ctx.staterunningrunning,e._autoSuspend(),!e.usingWebAudio)if(undefined!=typeof Audio)try{var o=new Audio;void 0===o.oncanplaythrough&&(e._canPlayEvent=canplay)}catch(n){e.noAudio=!0}else e.noAudio=!0;try{var o=new Audio;o.muted&&(e.noAudio=!0)}catch(e){}return e.noAudioe._setupCodecs(),e},_setupCodecsfunction(){var e=thisn,o=null;try{o=undefined!=typeof Audionew Audionull}catch(n){return e}if(!ofunction!=typeof o.canPlayType)return e;var t=o.canPlayType(audiompeg;).replace(^no$,),r=e._navigator&&e._navigator.userAgent.match(OPR([0-6].)g),a=r&&parseInt(r[0].split()[1],10)33;return e._codecs={mp3!(a!t&&!o.canPlayType(audiomp3;).replace(^no$,)),mpeg!!t,opus!!o.canPlayType('audioogg; codecs=opus').replace(^no$,),ogg!!o.canPlayType('audioogg; codecs=vorbis').replace(^no$,),oga!!o.canPlayType('audioogg; codecs=vorbis').replace(^no$,),wav!!o.canPlayType('audiowav; codecs=1').replace(^no$,),aac!!o.canPlayType(audioaac;).replace(^no$,),caf!!o.canPlayType(audiox-caf;).replace(^no$,),m4a!!(o.canPlayType(audiox-m4a;)o.canPlayType(audiom4a;)o.canPlayType(audioaac;)).replace(^no$,),mp4!!(o.canPlayType(audiox-mp4;)o.canPlayType(audiomp4;)o.canPlayType(audioaac;)).replace(^no$,),weba!!o.canPlayType('audiowebm; codecs=vorbis').replace(^no$,),webm!!o.canPlayType('audiowebm; codecs=vorbis').replace(^no$,),dolby!!o.canPlayType('audiomp4; codecs=ec-3').replace(^no$,),flac!!(o.canPlayType(audiox-flac;)o.canPlayType(audioflac;)).replace(^no$,)},e},_enableMobileAudiofunction(){var e=thisn,o=iPhoneiPadiPodAndroidBlackBerryBB10SilkMobii.test(e._navigator&&e._navigator.userAgent),t=!!(ontouchendin windowe._navigator&&e._navigator.maxTouchPoints0e._navigator&&e._navigator.msMaxTouchPoints0);if(!e._mobileEnabled&&e.ctx&&(ot)){e._mobileEnabled=!1,e._mobileUnloaded44100===e.ctx.sampleRate(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var r=function(){var n=e.ctx.createBufferSource();n.buffer=e._scratchBuffer,n.connect(e.ctx.destination),void 0===n.startn.noteOn(0)n.start(0),n.onended=function(){n.disconnect(0),e._mobileEnabled=!0,e.mobileAutoEnable=!1,document.removeEventListener(touchend,r,!0)}};return document.addEventListener(touchend,r,!0),e}},_autoSuspendfunction(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&n.usingWebAudio){for(var o=0;oe._howls.length;o++)if(e._howls[o]._webAudio)for(var t=0;te._howls[o]._sounds.length;t++)if(!e._howls[o]._sounds[t]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){e.autoSuspend&&(e._suspendTimer=null,e.state=suspending,e.ctx.suspend().then(function(){e.state=suspended,e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResumefunction(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&n.usingWebAudio)returnrunning===e.state&&e._suspendTimer(clearTimeout(e._suspendTimer),e._suspendTimer=null)suspended===e.state(e.state=resuming,e.ctx.resume().then(function(){e.state=running;for(var n=0;ne._howls.length;n++)e._howls[n]._emit(resume)}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null))suspending===e.state&&(e._resumeAfterSuspend=!0),e}};var n=new e,o=function(e){var n=this;if(!e.src0===e.src.length)return void console.error(An array of source files must be passed with any new Howl.);n.init(e)};o.prototype={initfunction(e){var o=this;return n.ctx_(),o._autoplay=e.autoplay!1,o._format=string!=typeof e.formate.format[e.format],o._html5=e.html5!1,o._muted=e.mute!1,o._loop=e.loop!1,o._pool=e.pool5,o._preload=boolean!=typeof e.preloade.preload,o._rate=e.rate1,o._sprite=e.sprite{},o._src=string!=typeof e.srce.src[e.src],o._volume=void 0!==e.volumee.volume1,o._duration=0,o._state=unloaded,o._sounds=[],o._endTimers={},o._queue=[],o._onend=e.onend[{fne.onend}][],o._onfade=e.onfade[{fne.onfade}][],o._onload=e.onload[{fne.onload}][],o._onloaderror=e.onloaderror[{fne.onloaderror}][],o._onpause=e.onpause[{fne.onpause}][],o._onplay=e.onplay[{fne.onplay}][],o._onstop=e.onstop[{fne.onstop}][],o._onmute=e.onmute[{fne.onmute}][],o._onvolume=e.onvolume[{fne.onvolume}][],o._onrate=e.onrate[{fne.onrate}][],o._onseek=e.onseek[{fne.onseek}][],o._onresume=[],o._webAudio=n.usingWebAudio&&!o._html5,void 0!==n.ctx&&n.ctx&&n.mobileAutoEnable&&n._enableMobileAudio(),n._howls.push(o),o._autoplay&&o._queue.push({eventplay,actionfunction(){o.play()}}),o._preload&&o.load(),o},loadfunction(){var e=this,o=null;if(n.noAudio)return void e._emit(loaderror,null,No audio support.);string==typeof e._src&&(e._src=[e._src]);for(var r=0;re._src.length;r++){var u,i;if(e._format&&e._format[r])u=e._format[r];else{if(string!=typeof(i=e._src[r])){e._emit(loaderror,null,Non-string found in selected audio sources - ignoring.);continue}u=^dataaudio([^;,]+);i.exec(i),u(u=.([^.]+)$.exec(i.split(,1)[0])),u&&(u=u[1].toLowerCase())}if(uconsole.warn('No file extension was found. Consider using the format property or specify an extension.'),u&&n.codecs(u)){o=e._src[r];break}}return o(e._src=o,e._state=loading,https===window.location.protocol&&http===o.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new t(e),e._webAudio&&a(e),e)void e._emit(loaderror,null,No codec support for selected audio sources.)},playfunction(e,o){var t=this,r=null;if(number==typeof e)r=e,e=null;else{if(string==typeof e&&loaded===t._state&&!t._sprite[e])return null;if(void 0===e){e=__default;for(var a=0,u=0;ut._sounds.length;u++)t._sounds[u]._paused&&!t._sounds[u]._ended&&(a++,r=t._sounds[u]._id);1===ae=nullr=null}}var i=rt._soundById(r)t._inactiveSound();if(!i)return null;if(r&&!e&&(e=i._sprite__default),loaded!==t._state&&!t._sprite[e])return t._queue.push({eventplay,actionfunction(){t.play(t._soundById(i._id)i._idvoid 0)}}),i._id;if(r&&!i._paused)return osetTimeout(function(){t._emit(play,i._id)},0),i._id;t._webAudio&&n._autoResume();var d=Math.max(0,i._seek0i._seekt._sprite[e][0]1e3),_=Math.max(0,(t._sprite[e][0]+t._sprite[e][1])1e3-d),s=1e3_Math.abs(i._rate);i._paused=!1,i._ended=!1,i._sprite=e,i._seek=d,i._start=t._sprite[e][0]1e3,i._stop=(t._sprite[e][0]+t._sprite[e][1])1e3,i._loop=!(!i._loop&&!t._sprite[e][2]);var l=i._node;if(t._webAudio){var c=function(){t._refreshBuffer(i);var e=i._mutedt._muted0i._volume;l.gain.setValueAtTime(e,n.ctx.currentTime),i._playStart=n.ctx.currentTime,void 0===l.bufferSource.starti._loopl.bufferSource.noteGrainOn(0,d,86400)l.bufferSource.noteGrainOn(0,d,_)i._loopl.bufferSource.start(0,d,86400)l.bufferSource.start(0,d,_),s!==10&&(t._endTimers[i._id]=setTimeout(t._ended.bind(t,i),s)),osetTimeout(function(){t._emit(play,i._id)},0)},f=running===n.state;if(loaded===t._state&&f)c();else{var p=floaded!==t._stateloadresume;t.once(p,c,fi._idnull),t._clearTimer(i._id)}}else{var v=function(){l.currentTime=d,l.muted=i._mutedt._mutedn._mutedl.muted,l.volume=i._volumen.volume(),l.playbackRate=i._rate,l.play(),s!==10&&(t._endTimers[i._id]=setTimeout(t._ended.bind(t,i),s)),ot._emit(play,i._id)},m=loaded===t._state&&(window&&window.ejecta!l.readyState&&n._navigator.isCocoonJS);if(4===l.readyStatem)v();else{var h=function(){v(),l.removeEventListener(n._canPlayEvent,h,!1)};l.addEventListener(n._canPlayEvent,h,!1),t._clearTimer(i._id)}}return i._id},pausefunction(e){var n=this;if(loaded!==n._state)return n._queue.push({eventpause,actionfunction(){n.pause(e)}}),n;for(var o=n._getSoundIds(e),t=0;to.length;t++){n._clearTimer(o[t]);var r=n._soundById(o[t]);if(r&&!r._paused&&(r._seek=n.seek(o[t]),r._rateSeek=0,r._paused=!0,n._stopFade(o[t]),r._node))if(n._webAudio){if(!r._node.bufferSource)return n;void 0===r._node.bufferSource.stopr._node.bufferSource.noteOff(0)r._node.bufferSource.stop(0),n._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==10r._node.pause();arguments[1]n._emit(pause,rr._idnull)}return n},stopfunction(e,n){var o=this;if(loaded!==o._state)return o._queue.push({eventstop,actionfunction(){o.stop(e)}}),o;for(var t=o._getSoundIds(e),r=0;rt.length;r++){o._clearTimer(t[r]);var a=o._soundById(t[r]);if(a&&(a._seek=a._start0,a._rateSeek=0,a._paused=!0,a._ended=!0,o._stopFade(t[r]),a._node))if(o._webAudio){if(!a._node.bufferSource)return no._emit(stop,a._id),o;void 0===a._node.bufferSource.stopa._node.bufferSource.noteOff(0)a._node.bufferSource.stop(0),o._cleanBuffer(a._node)}else isNaN(a._node.duration)&&a._node.duration!==10(a._node.currentTime=a._start0,a._node.pause());a&&!n&&o._emit(stop,a._id)}return o},mutefunction(e,o){var t=this;if(loaded!==t._state)return t._queue.push({eventmute,actionfunction(){t.mute(e,o)}}),t;if(void 0===o){if(boolean!=typeof e)return t._muted;t._muted=e}for(var r=t._getSoundIds(o),a=0;ar.length;a++){var u=t._soundById(r[a]);u&&(u._muted=e,t._webAudio&&u._nodeu._node.gain.setValueAtTime(e0u._volume,n.ctx.currentTime)u._node&&(u._node.muted=!!n._mutede),t._emit(mute,u._id))}return t},volumefunction(){var e,o,t=this,r=arguments;if(0===r.length)return t._volume;if(1===r.length2===r.length&&void 0===r[1]){t._getSoundIds().indexOf(r[0])=0o=parseInt(r[0],10)e=parseFloat(r[0])}else r.length=2&&(e=parseFloat(r[0]),o=parseInt(r[1],10));var a;if(!(void 0!==e&&e=0&&e=1))return a=ot._soundById(o)t._sounds[0],aa._volume0;if(loaded!==t._state)return t._queue.push({eventvolume,actionfunction(){t.volume.apply(t,r)}}),t;void 0===o&&(t._volume=e),o=t._getSoundIds(o);for(var u=0;uo.length;u++)(a=t._soundById(o[u]))&&(a._volume=e,r[2]t._stopFade(o[u]),t._webAudio&&a._node&&!a._muteda._node.gain.setValueAtTime(e,n.ctx.currentTime)a._node&&!a._muted&&(a._node.volume=en.volume()),t._emit(volume,a._id));return t},fadefunction(e,o,t,r){var a=this,u=Math.abs(e-o),i=eooutin,d=u.01,_=d0tdt;if(_4&&(d=Math.ceil(d(4_)),_=4),loaded!==a._state)return a._queue.push({eventfade,actionfunction(){a.fade(e,o,t,r)}}),a;a.volume(e,r);for(var s=a._getSoundIds(r),l=0;ls.length;l++){var c=a._soundById(s[l]);if(c){if(ra._stopFade(s[l]),a._webAudio&&!c._muted){var f=n.ctx.currentTime,p=f+t1e3;c._volume=e,c._node.gain.setValueAtTime(e,f),c._node.gain.linearRampToValueAtTime(o,p)}var v=e;c._interval=setInterval(function(n,t){d0&&(v+=in===i.01-.01),v=Math.max(0,v),v=Math.min(1,v),v=Math.round(100v)100,a._webAudio(void 0===r&&(a._volume=v),t._volume=v)a.volume(v,n,!0),(oe&&v=ooe&&v=o)&&(clearInterval(t._interval),t._interval=null,a.volume(o,n),a._emit(fade,n))}.bind(a,s[l],c),_)}}return a},_stopFadefunction(e){var o=this,t=o._soundById(e);return t&&t._interval&&(o._webAudio&&t._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(t._interval),t._interval=null,o._emit(fade,e)),o},loopfunction(){var e,n,o,t=this,r=arguments;if(0===r.length)return t._loop;if(1===r.length){if(boolean!=typeof r[0])return!!(o=t._soundById(parseInt(r[0],10)))&&o._loop;e=r[0],t._loop=e}else 2===r.length&&(e=r[0],n=parseInt(r[1],10));for(var a=t._getSoundIds(n),u=0;ua.length;u++)(o=t._soundById(a[u]))&&(o._loop=e,t._webAudio&&o._node&&o._node.bufferSource&&(o._node.bufferSource.loop=e,e&&(o._node.bufferSource.loopStart=o._start0,o._node.bufferSource.loopEnd=o._stop)));return t},ratefunction(){var e,o,t=this,r=arguments;if(0===r.length)o=t._sounds[0]._id;else if(1===r.length){var a=t._getSoundIds(),u=a.indexOf(r[0]);u=0o=parseInt(r[0],10)e=parseFloat(r[0])}else 2===r.length&&(e=parseFloat(r[0]),o=parseInt(r[1],10));var i;if(number!=typeof e)return i=t._soundById(o),ii._ratet._rate;if(loaded!==t._state)return t._queue.push({eventrate,actionfunction(){t.rate.apply(t,r)}}),t;void 0===o&&(t._rate=e),o=t._getSoundIds(o);for(var d=0;do.length;d++)if(i=t._soundById(o[d])){i._rateSeek=t.seek(o[d]),i._playStart=t._webAudion.ctx.currentTimei._playStart,i._rate=e,t._webAudio&&i._node&&i._node.bufferSourcei._node.bufferSource.playbackRate.value=ei._node&&(i._node.playbackRate=e);var _=t.seek(o[d]),s=(t._sprite[i._sprite][0]+t._sprite[i._sprite][1])1e3-_,l=1e3sMath.abs(i._rate);!t._endTimers[o[d]]&&i._paused(t._clearTimer(o[d]),t._endTimers[o[d]]=setTimeout(t._ended.bind(t,i),l)),t._emit(rate,i._id)}return t},seekfunction(){var e,o,t=this,r=arguments;if(0===r.length)o=t._sounds[0]._id;else if(1===r.length){var a=t._getSoundIds(),u=a.indexOf(r[0]);u=0o=parseInt(r[0],10)(o=t._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),o=parseInt(r[1],10));if(void 0===o)return t;if(loaded!==t._state)return t._queue.push({eventseek,actionfunction(){t.seek.apply(t,r)}}),t;var i=t._soundById(o);if(i){if(!(number==typeof e&&e=0)){if(t._webAudio){var d=t.playing(o)n.ctx.currentTime-i._playStart0,_=i._rateSeeki._rateSeek-i._seek0;return i._seek+(_+dMath.abs(i._rate))}return i._node.currentTime}var s=t.playing(o);s&&t.pause(o,!0),i._seek=e,i._ended=!1,t._clearTimer(o),s&&t.play(o,!0),!t._webAudio&&i._node&&(i._node.currentTime=e),t._emit(seek,o)}return t},playingfunction(e){var n=this;if(number==typeof e){var o=n._soundById(e);return!!o&&!o._paused}for(var t=0;tn._sounds.length;t++)if(!n._sounds[t]._paused)return!0;return!1},durationfunction(e){var n=this,o=n._duration,t=n._soundById(e);return t&&(o=n._sprite[t._sprite][1]1e3),o},statefunction(){return this._state},unloadfunction(){for(var e=this,o=e._sounds,t=0;to.length;t++){o[t]._pausede.stop(o[t]._id),e._webAudio(o[t]._node.src=dataaudiowav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA,o[t]._node.removeEventListener(error,o[t]._errorFn,!1),o[t]._node.removeEventListener(n._canPlayEvent,o[t]._loadFn,!1)),delete o[t]._node,e._clearTimer(o[t]._id);var a=n._howls.indexOf(e);a=0&&n._howls.splice(a,1)}var u=!0;for(t=0;tn._howls.length;t++)if(n._howls[t]._src===e._src){u=!1;break}return r&&u&&delete r[e._src],n.noAudio=!1,e._state=unloaded,e._sounds=[],e=null,null},onfunction(e,n,o,t){var r=this,a=r[_on+e];returnfunction==typeof n&&a.push(t{ido,fnn,oncet}{ido,fnn}),r},offfunction(e,n,o){var t=this,r=t[_on+e],a=0;if(n){for(a=0;ar.length;a++)if(n===r[a].fn&&o===r[a].id){r.splice(a,1);break}}else if(e)t[_on+e]=[];else{var u=Object.keys(t);for(a=0;au.length;a++)0===u[a].indexOf(_on)&&Array.isArray(t[u[a]])&&(t[u[a]]=[])}return t},oncefunction(e,n,o){var t=this;return t.on(e,n,o,1),t},_emitfunction(e,n,o){for(var t=this,r=t[_on+e],a=r.length-1;a=0;a--)r[a].id&&r[a].id!==n&&load!==e(setTimeout(function(e){e.call(this,n,o)}.bind(t,r[a].fn),0),r[a].once&&t.off(e,r[a].fn,r[a].id));return t},_loadQueuefunction(){var e=this;if(e._queue.length0){var n=e._queue[0];e.once(n.event,function(){e._queue.shift(),e._loadQueue()}),n.action()}return e},_endedfunction(e){var o=this,t=e._sprite,r=!(!e._loop&&!o._sprite[t][2]);if(o._emit(end,e._id),!o._webAudio&&r&&o.stop(e._id,!0).play(e._id),o._webAudio&&r){o._emit(play,e._id),e._seek=e._start0,e._rateSeek=0,e._playStart=n.ctx.currentTime;var a=1e3(e._stop-e._start)Math.abs(e._rate);o._endTimers[e._id]=setTimeout(o._ended.bind(o,e),a)}return o._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start0,e._rateSeek=0,o._clearTimer(e._id),o._cleanBuffer(e._node),n._autoSuspend()),o._webAudioro.stop(e._id),o},_clearTimerfunction(e){var n=this;return n._endTimers[e]&&(clearTimeout(n._endTimers[e]),delete n._endTimers[e]),n},_soundByIdfunction(e){for(var n=this,o=0;on._sounds.length;o++)if(e===n._sounds[o]._id)return n._sounds[o];return null},_inactiveSoundfunction(){var e=this;e._drain();for(var n=0;ne._sounds.length;n++)if(e._sounds[n]._ended)return e._sounds[n].reset();return new t(e)},_drainfunction(){var e=this,n=e._pool,o=0,t=0;if(!(e._sounds.lengthn)){for(t=0;te._sounds.length;t++)e._sounds[t]._ended&&o++;for(t=e._sounds.length-1;t=0;t--){if(o=n)return;e._sounds[t]._ended&&(e._webAudio&&e._sounds[t]._node&&e._sounds[t]._node.disconnect(0),e._sounds.splice(t,1),o--)}}},_getSoundIdsfunction(e){var n=this;if(void 0===e){for(var o=[],t=0;tn._sounds.length;t++)o.push(n._sounds[t]._id);return o}return[e]},_refreshBufferfunction(e){var o=this;return e._node.bufferSource=n.ctx.createBufferSource(),e._node.bufferSource.buffer=r[o._src],e._pannere._node.bufferSource.connect(e._panner)e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start0,e._node.bufferSource.loopEnd=e._stop),e._node.bufferSource.playbackRate.value=e._rate,o},_cleanBufferfunction(e){var n=this;if(n._scratchBuffer){e.bufferSource.onended=null,e.bufferSource.disconnect(0);try{e.bufferSource.buffer=n._scratchBuffer}catch(e){}}return e.bufferSource=null,n}};var t=function(e){this._parent=e,this.init()};t.prototype={initfunction(){var e=this,o=e._parent;return e._muted=o._muted,e._loop=o._loop,e._volume=o._volume,e._muted=o._muted,e._rate=o._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite=__default,e._id=++n._counter,o._sounds.push(e),e.create(),e},createfunction(){var e=this,o=e._parent,t=n._mutede._mutede._parent._muted0e._volume;return o._webAudio(e._node=void 0===n.ctx.createGainn.ctx.createGainNode()n.ctx.createGain(),e._node.gain.setValueAtTime(t,n.ctx.currentTime),e._node.paused=!0,e._node.connect(n.masterGain))(e._node=new Audio,e._errorFn=e._errorListener.bind(e),e._node.addEventListener(error,e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(n._canPlayEvent,e._loadFn,!1),e._node.src=o._src,e._node.preload=auto,e._node.volume=tn.volume(),e._node.load()),e},resetfunction(){var e=this,o=e._parent;return e._muted=o._muted,e._loop=o._loop,e._volume=o._volume,e._muted=o._muted,e._rate=o._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite=__default,e._id=++n._counter,e},_errorListenerfunction(){var e=this;e._parent._emit(loaderror,e._id,e._node.errore._node.error.code0),e._node.removeEventListener(error,e._errorListener,!1)},_loadListenerfunction(){var e=this,o=e._parent;o._duration=Math.ceil(10e._node.duration)10,0===Object.keys(o._sprite).length&&(o._sprite={__default[0,1e3o._duration]}),loaded!==o._state&&(o._state=loaded,o._emit(load),o._loadQueue()),e._node.removeEventListener(n._canPlayEvent,e._loadFn,!1)}};var r={},a=function(e){var n=e._src;if(r[n])return e._duration=r[n].duration,void d(e);if(^data[^;]+;base64,.test(n)){for(var o=atob(n.split(,)[1]),t=new Uint8Array(o.length),a=0;ao.length;++a)t[a]=o.charCodeAt(a);i(t.buffer,e)}else{var _=new XMLHttpRequest;_.open(GET,n,!0),_.responseType=arraybuffer,_.onload=function(){var n=(_.status+)[0];if(0!==n&&2!==n&&3!==n)return void e._emit(loaderror,null,Failed loading audio file with status +_.status+.);i(_.response,e)},_.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete r[n],e.load())},u(_)}},u=function(e){try{e.send()}catch(n){e.onerror()}},i=function(e,o){n.ctx.decodeAudioData(e,function(e){e&&o._sounds.length0&&(r[o._src]=e,d(o,e))},function(){o._emit(loaderror,null,Decoding audio data failed.)})},d=function(e,n){n&&!e._duration&&(e._duration=n.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default[0,1e3e._duration]}),loaded!==e._state&&(e._state=loaded,e._emit(load),e._loadQueue())},_=function(){try{undefined!=typeof AudioContextn.ctx=new AudioContextundefined!=typeof webkitAudioContextn.ctx=new webkitAudioContextn.usingWebAudio=!1}catch(e){n.usingWebAudio=!1}var e=iP(honeodad).test(n._navigator&&n._navigator.platform),o=n._navigator&&n._navigator.appVersion.match(OS (d+)_(d+)_(d+)),t=oparseInt(o[1],10)null;if(e&&t&&t9){var r=safari.test(n._navigator&&n._navigator.userAgent.toLowerCase());(n._navigator&&n._navigator.standalone&&!rn._navigator&&!n._navigator.standalone&&!r)&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=void 0===n.ctx.createGainn.ctx.createGainNode()n.ctx.createGain(),n.masterGain.gain.value=1,n.masterGain.connect(n.ctx.destination)),n._setup()};function==typeof define&&define.amd&&define([],function(){return{Howlern,Howlo}}),undefined!=typeof exports&&(exports.Howler=n,exports.Howl=o),undefined!=typeof window(window.HowlerGlobal=e,window.Howler=n,window.Howl=o,window.Sound=t)undefined!=typeof global&&(global.HowlerGlobal=e,global.Howler=n,global.Howl=o,global.Sound=t)}();
